(self.webpackChunkdevelop_qa=self.webpackChunkdevelop_qa||[]).push([[384],{3905:function(n,e,t){"use strict";t.d(e,{Zo:function(){return p},kt:function(){return g}});var r=t(7294);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function a(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var l=r.createContext({}),c=function(n){var e=r.useContext(l),t=e;return n&&(t="function"==typeof n?n(e):a(a({},e),n)),t},p=function(n){var e=c(n.components);return r.createElement(l.Provider,{value:e},n.children)},d={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(n,e){var t=n.components,o=n.mdxType,i=n.originalType,l=n.parentName,p=s(n,["components","mdxType","originalType","parentName"]),u=c(t),g=o,f=u["".concat(l,".").concat(g)]||u[g]||d[g]||i;return t?r.createElement(f,a(a({ref:e},p),{},{components:t})):r.createElement(f,a({ref:e},p))}));function g(n,e){var t=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var i=t.length,a=new Array(i);a[0]=u;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=n,s.mdxType="string"==typeof n?n:o,a[1]=s;for(var c=2;c<i;c++)a[c]=t[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},8659:function(n,e,t){"use strict";t.r(e),t.d(e,{frontMatter:function(){return a},metadata:function(){return s},toc:function(){return l},default:function(){return p}});var r=t(2122),o=t(9756),i=(t(7294),t(3905)),a={id:"nginx",title:"nginx\u5e38\u89c1\u95ee\u9898",sidebar_label:"nginx\u5e38\u89c1\u95ee\u9898",slug:"/app-info/nginx"},s={unversionedId:"app-info/nginx/nginx",id:"app-info/nginx/nginx",isDocsHomePage:!1,title:"nginx\u5e38\u89c1\u95ee\u9898",description:"1. \u5b89\u88c5nginx",source:"@site/docs/app-info/nginx/nginx.md",sourceDirName:"app-info/nginx",slug:"/app-info/nginx",permalink:"/developer-qa/docs/app-info/nginx",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/app-info/nginx/nginx.md",version:"current",lastUpdatedAt:1618993252,formattedLastUpdatedAt:"4/21/2021",sidebar_label:"nginx\u5e38\u89c1\u95ee\u9898",frontMatter:{id:"nginx",title:"nginx\u5e38\u89c1\u95ee\u9898",sidebar_label:"nginx\u5e38\u89c1\u95ee\u9898",slug:"/app-info/nginx"},sidebar:"docs",previous:{title:"git\u5e38\u89c1\u95ee\u9898",permalink:"/developer-qa/docs/app-info/git"},next:{title:"java\u5e38\u89c1\u8fd0\u7ef4\u95ee\u9898",permalink:"/developer-qa/docs/app-info/java"}},l=[{value:"1. \u5b89\u88c5nginx",id:"1-\u5b89\u88c5nginx",children:[]},{value:"2. centos7\u4e0b\u914d\u7f6enginx",id:"2-centos7\u4e0b\u914d\u7f6enginx",children:[]}],c={toc:l};function p(n){var e=n.components,t=(0,o.Z)(n,["components"]);return(0,i.kt)("wrapper",(0,r.Z)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"1-\u5b89\u88c5nginx"},"1. \u5b89\u88c5nginx"),(0,i.kt)("p",null,"To add NGINX yum repository, create a file named "),(0,i.kt)("p",null,"/etc/yum.repos.d/nginx.repo"),(0,i.kt)("p",null," and paste one of the configurations below:"),(0,i.kt)("p",null,"CentOS:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"[nginx-stable]\nname=nginx stable repo\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\ngpgcheck=1\nenabled=1\ngpgkey=https://nginx.org/keys/nginx_signing.key\nmodule_hotfixes=true\n\n[nginx-mainline]\nname=nginx mainline repo\nbaseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/\ngpgcheck=1\nenabled=0\ngpgkey=https://nginx.org/keys/nginx_signing.key\nmodule_hotfixes=true\n\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"then:\n\nyum install nginx\n\n\nif error\n\n yum-config-manager --disable epel\n\n")),(0,i.kt)("h2",{id:"2-centos7\u4e0b\u914d\u7f6enginx"},"2. centos7\u4e0b\u914d\u7f6enginx"),(0,i.kt)("p",null,"\u914d\u7f6e\u6587\u4ef6\u4e00\u822c\u5728:/etc/nginx/nginx.conf"),(0,i.kt)("p",null,"\u5185\u5bb9\u5982:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'\n# For more information on configuration, see:\n#   * Official English Documentation: http://nginx.org/en/docs/\n#   * Official Russian Documentation: http://nginx.org/ru/docs/\n\nuser nginx;\nworker_processes auto;\nerror_log /var/log/nginx/error.log;\npid /run/nginx.pid;\n\n# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.\ninclude /usr/share/nginx/modules/*.conf;\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    log_format  main  \'$remote_addr - $remote_user [$time_local] "$request" \'\n                      \'$status $body_bytes_sent "$http_referer" \'\n                      \'"$http_user_agent" "$http_x_forwarded_for"\';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile            on;\n    tcp_nopush          on;\n    tcp_nodelay         on;\n    keepalive_timeout   65;\n    types_hash_max_size 2048;\n\n    include             /etc/nginx/mime.types;\n    default_type        application/octet-stream;\n\n    # Load modular configuration files from the /etc/nginx/conf.d directory.\n    # See http://nginx.org/en/docs/ngx_core_module.html#include\n    # for more information.\n    include /etc/nginx/conf.d/*.conf;\n\n   server {\n           listen       80;\n           server_name  localhost;\n\n        location / {\n               root /home/app/test/ruoyi-ui/dist;\n            try_files $uri $uri/ /index.html;\n               index  index.html index.htm;\n           }\n\n        location /prod-api/{\n            proxy_set_header Host $http_host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header REMOTE-HOST $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_pass http://localhost:8007/;\n        }\n\n           error_page   500 502 503 504  /50x.html;\n           location = /50x.html {\n               root   html;\n           }\n   }\n   server {\n           listen       1024;\n           server_name  localhost;\n\n        location / {\n               root /home/app/preferential-activities-frontend/questionnaire;\n            try_files $uri $uri/ /index.html;\n               index  index.html index.htm;\n           }\n\n        location /prod-api/{\n            proxy_set_header Host $http_host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header REMOTE-HOST $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_pass http://localhost:8007/;\n        }\n\n           error_page   500 502 503 504  /50x.html;\n           location = /50x.html {\n               root   html;\n           }\n   }\n# Settings for a TLS enabled server.\n#\n#    server {\n#        listen       443 ssl http2 default_server;\n#        listen       [::]:443 ssl http2 default_server;\n#        server_name  _;\n#        root         /usr/share/nginx/html;\n#\n#        ssl_certificate "/etc/pki/nginx/server.crt";\n#        ssl_certificate_key "/etc/pki/nginx/private/server.key";\n#        ssl_session_cache shared:SSL:1m;\n#        ssl_session_timeout  10m;\n#        ssl_ciphers HIGH:!aNULL:!MD5;\n#        ssl_prefer_server_ciphers on;\n#\n#        # Load configuration files for the default server block.\n#        include /etc/nginx/default.d/*.conf;\n#\n#        location / {\n#        }\n#\n#        error_page 404 /404.html;\n#        location = /404.html {\n#        }\n#\n#        error_page 500 502 503 504 /50x.html;\n#        location = /50x.html {\n#        }\n#    }\n\n}\n\n')))}p.isMDXComponent=!0}}]);